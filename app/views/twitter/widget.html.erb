
<div id="side-wrapper">
  <ul class="sub-tabs"> 
    <li><a href="#published" class="active" rel="tab-widget">Published View</a></li> 
    <li><a href="#staged" rel="tab-preview">Staged View</a></li> 
    <li><a href="#settings" rel="tab-settings">Settings</a></li> 
    <li><a href="#html" rel="tab-customize">Customize</a></li> 
    <li><a href="#help" rel="tab-help">Help</a></li> 
  </ul> 
  <div class="options-box">
    
  </div>
</div>


<div class="primary-content">

  <div id="tab-widget" class="tab-content">
    <div class="data-description">
      This is how your tweet widget will look on your website.
    </div>
    <div id="widget-published-wrapper">&#160;</div>
  </div>

  <div id="tab-preview" class="tab-content">
    <div class="data-description buttons">
      <a href="/twitter/theme/publish" id="theme-publish" class="positive">Publish Changes</a> 
      This view shows any code-customizations you've saved.
      <br/>Your published widget is always protected from these changes...until you publish them!
    </div>
    <div id="widget-staged-wrapper">&#160;</div>
  </div>
  
    
  <div id="tab-settings" class="tab-content">
    
    <div class="data-description">
      Edit basic widget settings here. View your changes in the <b>Staged View Tab</b>.
    </div>


    <%= form_for @user.tweet_setting, :url => '/twitter/settings', :html => { :id => nil, :rel => "form.settings" } do |f| %>  
      <fieldset>
        <label>Tweets per page:</label>
        #<%= f.text_field(:per_page, :id => nil, :class => "tconfig_per_page", :maxlength => 3, :style => "width:30px;padding:1px; text-align:center; background:#eee; border:0; font-size:18px" ) %>
      </fieldset>

    
      <fieldset class="buttons">
        <button type="submit" class="positive">Update Settings</button>
      </fieldset>
    <% end %>
    
  </div>
    
  
  <div id="tab-customize" class="tab-content">
    
    <ul class="js_tabs_list tab-beans">
      <li><a href="#css" rel="tab-css">Edit CSS</a></li>
      <li><a href="#html" rel="tab-html">Edit Wrapper HTML</a></li> 
      <li><a href="#html" rel="tab-testimonial-html">Edit Tweet HTML</a></li> 
    </ul>
    
    <div class="js_tabs_wrapper">
    
      <div id="tab-css" class="tab_unit">
        <div class="data-description">
          This is the complete CSS used to style your widget. View your CSS changes in the <b>Staged View Tab</b>.
        </div>  
    
        <%= form_tag('/twitter/theme/style-css', :method => :post, :id => 'css-form', :class => "editor-form" ) do %>
          <div class="editor-panel buttons">
            <button type="submit" class="positive">Save CSS</button>
            <ul>
              <li><a href="/twitter/theme/style-css" id="refresh-css">Refresh Staged CSS</a></li>
              <li><a href="/twitter/theme/style-css/original" id="load-stock-css">Load Original CSS</a></li>
            </ul>
          </div>  
          <textarea id="editor_css" name="data" style="width:95%; height:600px"><%= @theme.get_attribute("style.css").staged %></textarea>
        <% end %>
      </div>
      
      <div class="tab_unit">
        <div class="data-description">
          This is the Wrapper HTML used to style your widget. View your HTML changes in the <b>Staged View Tab</b>.
        </div>
      
        <%= form_tag('/twitter/theme/tweet-wrapper-html', :method => :post, :id => 'wrapper-form', :class => "editor-form" ) do %>
          <div class="editor-panel buttons">
            <button type="submit" class="positive">Save HTML</button>
            <ul>
              <li><a href="/twitter/theme/tweet-wrapper-html" id="refresh-wrapper">Refresh Staged HTML</a></li>
              <li><a href="/twitter/theme/tweet-wrapper-html/original" id="load-stock-wrapper">Load Original HTML</a></li>
            </ul>
          </div>
      
          <textarea id="editor_wrapper" name="data" style="height:600px"><%= @theme.get_attribute("tweet-wrapper.html").staged %></textarea>
        <% end %>
        
        <ul class="tokens" style="display:none">
          <li><b>Wrapper Tokens</b></li>
          <li><input type="text" value="{{tweets}}" /></li>
        </ul>
      </div>

  
      <div id="tab-testimonial-html" class="tab_unit">
        <div class="data-description">
          This is the Tweet HTML used to style each tweet. View your HTML changes in the <b>Staged View Tab</b>.
        </div>  
    
        <%= form_tag('/twitter/theme/tweet-html', :method => :post, :id => 'testimonial-form', :class => "editor-form" ) do %>
          <div class="editor-panel buttons">
            <button type="submit" class="positive">Save HTML</button>
            <ul>
              <li><a href="/twitter/theme/twitter-html" id="refresh-testimonial">Refresh Staged HTML</a></li>
              <li><a href="/twitter/theme/twitter-html/original" id="load-stock-testimonial">Load Original HTML</a></li>
            </ul>
          </div>
      
          <textarea id="editor_testimonial" name="data" style="width:95%; height:600px"><%= @theme.get_attribute("tweet.html").staged %></textarea>
        <% end %>

        <ul class="tokens" style="display:none">
          <li><b>Tweet Tokens</b></li>
          <% Tweet.api_attributes.each do |a| %>
            <li><input type="text" value="{{<%= a %>}}" /></li>
          <% end%>
        </ul>
      </div>

    </div>

  </div>


  <div id="tab-help" class="tab-content">
    <h3>Core Concept</h3>
     <div class="indent">
       Use this section to customize your widget.
     </div>  

 
     <h3>Published View</h3>
     <div class="indent">
       <p>
         This tab shows a published view of your widget, the way it will look when you install it on your website.
       </p>
       <p>
         To update your published view you must work with your staged view first, verify your changes, and then click
         "publish changes" located in the "Staged View" tab.
       </p>
     </div>
 
     <h3>Staged View Tab</h3>  
     <div class="indent">
       This tab shows a staged view of your widget. It automatically changes any and every time
       you make edits to the HTML or CSS. This allows you to preview and verify your customizations before
       you publish them.
     </div>

     <h3>Settings</h3>
     <div class="indent">
       Change how many tweets to display per page.
     </div>
     
     <h3>Customize</h3>
     
     <h4>Edit Wrapper HTML Tab</h4>  
     <div class="indent">
       The wrapper HTML is the over all HTML template that makes up your widget.
       Each tweet gets displayed <em>inside</em> of your wrapper HTML.
       To the right of the editor there are a list of tokens.
       Using tokens allows you to place pluspanda data wherever you wish.
       <br/>The {{tweets}} token is used to place the list of tweets in your HTML
       <br/><br/>
       <ul>
         <li>
           <b>Refresh Staged HTML</b> will refresh the editor with the latest saved copy.
         </li>
         <li>
           <b>Load Original HTML</b> will load the most recent HTML from the original theme.
         </li>
       </ul>    
     </div>

     <h4>Edit Tweet HTML Tab</h4>  
     <div class="indent">
       The tweet HTML is the HTML used to display <em>each</em> tweet.
       Each tweet will display inside of the wrapper HTML wherever you place your
       {{tweets}} token.
   
       <br/>
       The tweet tab also has its own list of tokens to the right.
       These are all the attributes of a tweet. Use them to output the different types of tweet
       data.
     </div>
 
     <h4>Edit CSS HTML Tab</h4>  
     <div class="indent">
       Place all your CSS inside this editor and pluspanda will serve it for you.
     </div>
  
   </div>
   
   
</div>
